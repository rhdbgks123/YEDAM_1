<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.mapper.ItemReviewMapper">

	<insert id="registerReview" parameterType="com.yedam.vo.ReviewVO">
		INSERT ALL
		 INTO TB_ITEM_REVIEW (
			review_seq,
			item_code,
			star_point,
			reviewDetail,
			created_By,
			updated_By)
		 VALUES (
			seq_tb_item_review.NEXTVAL,
			#{itemCode},
			#{starPoint},
			#{reviewDetail},
			#{userId},
			#{userId})
	     <if test="image != null and image != ''">
			INTO TB_ITEM_REVIEW_IMAGE (
				review_seq,
				REVIEW_IMAGE,
				CREATED_BY,
				UPDATED_BY) 
			VALUES (
				seq_tb_item_review.CURRVAL,
				#{image},
				#{userId},
				#{userId})
		 </if>
		  SELECT 1 FROM dual
	</insert>
	
</mapper>